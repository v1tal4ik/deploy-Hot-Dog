(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){e.exports=a(213)},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),i=a.n(c),o=a(31),s=a(18),u=a(121),l=a(10),p=a.n(l),m=a(35),d=a(57),h=a.n(d),f=function(e){var t=e.typeSort;return h.a.get("/hot-dogs?typeSort=".concat(t)).then(function(e){return e.data}).catch(function(){return[]})},b=function(e){var t=e.img,a=new FormData;return a.append("image",t,t.name),fetch("/image",{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){return e.nameOfImg}).catch(function(){return"no-photo.png"})},g=function(e){var t=e.name,a=e.price,n=e.img;return h.a.post("/hot-dogs",{name:t,price:a,img:n}).then(function(e){return e.data}).catch(function(e){return e.response.data})},v=function(e){var t=e.id,a=e.name,n=e.price,r=e.img;return h.a.patch("/hot-dogs",{id:t,name:a,price:n,img:r}).then(function(e){return e.data}).catch(function(e){return e.response.data})},O=function(e){return h.a.delete("/hot-dogs?id=".concat(e)).then(function(e){return e.data}).catch(function(){return!1})},j=a(217),E=Object(j.a)("FETCH_HOT_DOG_LIST"),y=Object(j.a)("FETCH_HOT_DOG_LIST_SUCCESS"),w=Object(j.a)("FETCH_HOT_DOG_LIST_FAILURE"),S=Object(j.a)("CHANGE_SORT_TYPE"),x=Object(j.a)("CHANGE_INPUT_VALUE"),k=p.a.mark(D),N=p.a.mark(I),C=p.a.mark(L);function D(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(E,I);case 2:case"end":return e.stop()}},k)}function I(e){var t,a;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(m.a)(f,t);case 4:return a=n.sent,n.next=7,Object(m.c)(y(a));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(m.c)(w(n.t0));case 13:case"end":return n.stop()}},N,null,[[1,9]])}function L(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(D);case 2:case"end":return e.stop()}},C)}var _,T,V=a(15),H=a(216),P=Object(H.a)((_={},Object(V.a)(_,E,function(){return[]}),Object(V.a)(_,y,function(e,t){return t.payload}),Object(V.a)(_,w,function(){return[]}),_),[]),M=Object(H.a)((T={},Object(V.a)(T,E,function(){return!0}),Object(V.a)(T,y,function(){return!1}),Object(V.a)(T,w,function(){return!1}),T),!1),R=Object(H.a)(Object(V.a)({},S,function(e,t){return t.payload}),"expensive"),q=Object(H.a)(Object(V.a)({},x,function(e,t){return t.payload}),""),F=function(e){return e.hotDogList},U=function(e){return e.isLoading},A=function(e){return e.typeSort},G=function(e){return e.inputValue},W=(Object(s.c)({hotDogList:P,isLoading:M,typeSort:R,inputValue:q}),p.a.mark(J)),B=Object(s.c)({hotDogList:P,isLoading:M,typeSort:R,inputValue:q});function J(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(L);case 2:case"end":return e.stop()}},W)}var X=Object(u.a)(),Y=function(){var e=Object(s.e)(B,Object(s.d)(Object(s.a)(X),window.devToolsExtension?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return X.run(J),e},$=a(19),z=a(28),K=a(29),Q=a(32),Z=a(30),ee=a(33),te=a(46),ae=a.n(te),ne=a(215);a(70),a(150);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach(function(t){Object(V.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ie={visible:!1,message:"",status:!1,id:"",name:"",price:"",img:"/img/no-photo.png"},oe=function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).changeInput=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"price":(r>0||""===r)&&a.setState(Object(V.a)({},n,r));break;default:a.setState(Object(V.a)({},n,r))}},a.changeInputImage=function(){var e=Object($.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,b({img:n});case 3:r=e.sent,a.setState(ce({},a.state,{img:"/img/hotDogIcon/".concat(r)}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSave=function(){var e=Object($.a)(p.a.mark(function e(t){var n,r,c,i,o,s,u,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.id,c=n.img,i=a.state.name.toLocaleUpperCase(),o=+a.state.price,!i||!o){e.next=18;break}if(t.preventDefault(),!r){e.next=11;break}return e.next=8,v({id:r,name:i,price:o,img:c});case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,g({name:i,price:o,img:c});case 13:e.t0=e.sent;case 14:s=e.t0,u=s.status,l=s.message,a.setState({visible:!0,message:l,status:u});case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.closeModalMessage=function(){var e=a.state.status,t=a.props.close;e?(t&&t(),a.setState(ie)):a.setState({visible:!1,message:"",status:!1})},a.state=ie,a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.id,a=e.name,n=e.price,r=e.img;t&&a&&n&&r&&this.setState(ce({},this.state,{id:t,name:a,price:n,img:r}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.price,n=e.img,c=e.visible,i=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"add-modal"},r.a.createElement("div",{className:"add-modal-block"},r.a.createElement("label",{className:"add-modal-label"}," Name * "),r.a.createElement("input",{className:"add-modal-inpt",onChange:this.changeInput,name:"name",type:"text",value:t,required:!0})),r.a.createElement("div",{className:"add-modal-block"},r.a.createElement("label",{className:"add-modal-label"},"Price *"),r.a.createElement("input",{className:"add-modal-inpt",onChange:this.changeInput,name:"price",type:"number",value:a,required:!0})),r.a.createElement("div",{className:"add-modal-block"},r.a.createElement("img",{src:n,alt:"Load img"}),r.a.createElement("input",{className:"add-modal-inpt-img",onChange:this.changeInputImage,name:"img",type:"file",accept:"image/*"})),r.a.createElement("button",{className:"modal-btn",onClick:this.handleSave},"Save")),r.a.createElement(ae.a,{visible:c,animation:"rotate",onClose:this.closeModalMessage},r.a.createElement("div",{className:"modal-message"}," ",i," ")))}}]),t}(n.Component),se=(a(151),a(152),ne.a.Option),ue=function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleChangeInput=function(e){var t=e.target,n=t.name,r=t.value;a.toggleIconClear(!1),a.setState(Object(V.a)({},n,r.toUpperCase()))},a.toggleIconClear=function(e){var t=document.getElementsByClassName("clear")[0].classList;e?t.add("hide"):t.remove("hide")},a.handleSearchInputValue=Object($.a)(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.changeInputValue,n=a.state.inputValue,e.next=4,t(n);case 4:case"end":return e.stop()}},e)})),a.handleClearInputValue=Object($.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.changeInputValue,a.setState({inputValue:""}),e.next=4,t("");case 4:a.toggleIconClear(!0);case 5:case"end":return e.stop()}},e)})),a.handleOpenModal=function(){return a.setState({visible:!0})},a.handleChangeSortType=function(){var e=Object($.a)(p.a.mark(function e(t){var n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.fetchHotDogListRequest,c=n.changeSortType,a.setState({typeSort:t}),e.next=4,c(t);case 4:return e.next=6,r({typeSort:t});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.closeModal=function(){(0,a.props.fetchHotDogListRequest)({typeSort:a.state.typeSort}),a.setState({visible:!1})},a.state={visible:!1,typeSort:"expensive",inputValue:""},a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.inputValue,n=window.innerWidth/1.5,c=window.innerHeight/1.5;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("button",{className:"header-btn",onClick:this.handleOpenModal}," Add "),r.a.createElement("div",{className:"search-block"},r.a.createElement("i",{className:"clear fas fa-times hide",onClick:this.handleClearInputValue}),r.a.createElement("input",{className:"header-inp",type:"text",name:"inputValue",value:a,placeholder:"name...",onChange:this.handleChangeInput}),r.a.createElement("button",{className:"header-btn",onClick:this.handleSearchInputValue}," search ")),r.a.createElement("div",{className:"sort-block"},r.a.createElement("span",{className:"sort-block-text"}," Sort by "),r.a.createElement(ne.a,{optionFilterProp:"children",className:"sort-select-block",defaultValue:"Price (expensive first)",onChange:this.handleChangeSortType},r.a.createElement(se,{key:"expensive",value:"expensive"}," Price (expensive first) "),r.a.createElement(se,{key:"cheaper",value:"cheaper"}," Price (cheaper first) ")))),r.a.createElement(ae.a,{visible:t,onClose:this.closeModal,animation:"slideDown",duration:400,width:n,height:c},r.a.createElement(oe,null)))}}]),t}(n.Component),le=Object(o.b)(null,{fetchHotDogListRequest:E,changeSortType:S,changeInputValue:x})(ue),pe=(a(209),function(){return r.a.createElement("div",{className:"cssload-container"},r.a.createElement("div",{className:"cssload-circle"}),r.a.createElement("div",{className:"cssload-circle"}))}),me=(a(210),function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).handleEdit=function(){var e=Object($.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({visible:!0,item:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object($.a)(p.a.mark(function e(t){var n,r,c,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.confirm("You really want delete this Hot Dog ?"),r=a.props,c=r.fetchHotDogListRequest,i=r.typeSort,!n){e.next=9;break}return e.next=5,O(t);case 5:if(!e.sent){e.next=9;break}return e.next=9,c({typeSort:i});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.closeModal=function(){var e=a.props;(0,e.fetchHotDogListRequest)({typeSort:e.typeSort}),a.setState({visible:!1})},a.state={visible:!1,item:{}},a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=this.props.el,a=t.id,n=t.name,c=t.price,i=t.img,o=this.state,s=o.item,u=o.visible,l=window.innerWidth/1.5,p=window.innerHeight/1.5;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hot-dog-item"},r.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){e.handleEdit({id:a,name:n,price:c,img:i,willEdit:!0})}}),r.a.createElement("i",{className:"fas fa-times",onClick:function(){e.handleDelete(a)}}),r.a.createElement("p",{className:"hot-dog-name"}," ",n," "),r.a.createElement("img",{id:"img",className:"hot-dog-img",src:i,alt:n}),r.a.createElement("p",{id:"price",className:"hot-dog-price"}," ",c," $ ")),r.a.createElement(ae.a,{visible:u,onClose:this.closeModal,animation:"slideDown",duration:400,width:l,height:p},r.a.createElement(oe,Object.assign({},s,{close:this.closeModal}))))}}]),t}(n.Component)),de=Object(o.b)(function(e){return{typeSort:A(e)}},{fetchHotDogListRequest:E})(me),he=(a(211),function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(Q.a)(this,Object(Z.a)(t).call(this,e))).componentDidMount=Object($.a)(p.a.mark(function e(){var t,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.fetchHotDogListRequest,r=t.typeSort,e.next=3,n({typeSort:r});case 3:case"end":return e.stop()}},e)})),a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hotDogList,a=e.isLoading,n=e.inputValue;return a?r.a.createElement("div",{className:"hot-dog-list"},r.a.createElement(pe,null)):t.length?r.a.createElement("div",{className:"hot-dog-list"},t.map(function(e){return e.name.includes(n)?r.a.createElement(de,{key:e.id,el:e}):null})):r.a.createElement("div",{className:"hot-dog-list"},r.a.createElement("div",{className:"not-found"}," Not found :( "))}}]),t}(n.Component)),fe=Object(o.b)(function(e){return{hotDogList:F(e),isLoading:U(e),typeSort:A(e),inputValue:G(e)}},{fetchHotDogListRequest:E})(he),be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null),r.a.createElement(fe,null))},ge=(a(212),Y());i.a.render(r.a.createElement(o.a,{store:ge},r.a.createElement(be,null)),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.135f7835.chunk.js.map