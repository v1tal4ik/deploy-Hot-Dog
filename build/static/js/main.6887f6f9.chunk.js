(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){e.exports=n(211)},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(5),i=n.n(c),o=n(31),s=n(17),u=n(120),l=n(10),m=n.n(l),p=n(35),d=n(57),f=n.n(d),h=function(e){var t=e.typeSort;return f.a.get("/hot-dogs?typeSort=".concat(t)).then(function(e){return e.data}).catch(function(){return[]})},b=function(e){var t=e.img,n=new FormData;return n.append("image",t,t.name),fetch("/image",{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){return e.nameOfImg}).catch(function(){return"no-photo.png"})},g=function(e){var t=e.name,n=e.price,a=e.img;return f.a.post("/hot-dogs",{name:t,price:n,img:a}).then(function(e){return e.data}).catch(function(e){return e.response.data})},v=function(e){var t=e.id,n=e.name,a=e.price,r=e.img;return f.a.patch("/hot-dogs",{id:t,name:n,price:a,img:r}).then(function(e){return e.data}).catch(function(e){return e.response.data})},O=function(e){return f.a.delete("/hot-dogs?id=".concat(e)).then(function(e){return e.data}).catch(function(){return!1})},E=n(215),j=Object(E.a)("FETCH_HOT_DOG_LIST"),y=Object(E.a)("FETCH_HOT_DOG_LIST_SUCCESS"),w=Object(E.a)("FETCH_HOT_DOG_LIST_FAILURE"),S=Object(E.a)("CHANGE_SORT_TYPE"),x=m.a.mark(D),k=m.a.mark(C),N=m.a.mark(L);function D(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(j,C);case 2:case"end":return e.stop()}},x)}function C(e){var t,n;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(p.a)(h,t);case 4:return n=a.sent,a.next=7,Object(p.c)(y(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(p.c)(w(a.t0));case 13:case"end":return a.stop()}},k,null,[[1,9]])}function L(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(D);case 2:case"end":return e.stop()}},N)}var T,_,H=n(18),I=n(214),P=Object(I.a)((T={},Object(H.a)(T,j,function(){return[]}),Object(H.a)(T,y,function(e,t){return t.payload}),Object(H.a)(T,w,function(){return[]}),T),[]),M=Object(I.a)((_={},Object(H.a)(_,j,function(){return!0}),Object(H.a)(_,y,function(){return!1}),Object(H.a)(_,w,function(){return!1}),_),!1),R=Object(I.a)(Object(H.a)({},S,function(e,t){return t.payload}),"expensive"),q=function(e){return e.hotDogList},F=function(e){return e.isLoading},G=function(e){return e.typeSort},A=(Object(s.c)({hotDogList:P,isLoading:M,typeSort:R}),m.a.mark(W)),U=Object(s.c)({hotDogList:P,isLoading:M,typeSort:R});function W(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(L);case 2:case"end":return e.stop()}},A)}var J=Object(u.a)(),V=function(){var e=Object(s.e)(U,Object(s.d)(Object(s.a)(J),window.devToolsExtension?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return J.run(W),e},X=n(20),Y=n(28),B=n(29),$=n(32),z=n(30),K=n(33),Q=n(46),Z=n.n(Q),ee=n(213);n(71),n(149);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach(function(t){Object(H.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ae={visible:!1,message:"",status:!1,change:{isEdit:!1,edited:!1},id:"",name:"",price:0,img:"/img/no-photo.png"},re=function(e){function t(e){var n;return Object(Y.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).changeInput=function(e){return n.setState(Object(H.a)({},e.target.name,e.target.value))},n.changeInputImage=function(){var e=Object(X.a)(m.a.mark(function e(t){var a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,b({img:a});case 3:r=e.sent,n.setState(ne({},n.state,{img:"/img/hotDogIcon/".concat(r)}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleSave=function(){var e=Object(X.a)(m.a.mark(function e(t){var a,r,c,i,o,s,u,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,r=a.id,c=a.name,i=a.img,o=+n.state.price,!c||!o){e.next=17;break}if(t.preventDefault(),!r){e.next=10;break}return e.next=7,v({id:r,name:c,price:o,img:i});case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,g({name:c,price:o,img:i});case 12:e.t0=e.sent;case 13:s=e.t0,u=s.status,l=s.message,n.setState({visible:!0,message:l,status:u});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.closeModalMessage=function(){var e=n.state.status,t=n.props.close;e?(t&&t(),n.setState(ae)):n.setState({visible:!1,message:"",status:!1})},n.state=ae,n}return Object(K.a)(t,e),Object(B.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.id,n=e.name,a=e.price,r=e.img;t&&n&&a&&r&&this.setState(ne({},this.state,{id:t,name:n,price:a,img:r}))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.price,a=e.img,c=e.visible,i=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"add-modal"},r.a.createElement("div",{className:"add-modal-block"},r.a.createElement("label",{className:"add-modal-label"}," Name * "),r.a.createElement("input",{className:"add-modal-inpt",onChange:this.changeInput,name:"name",type:"text",value:t,required:!0})),r.a.createElement("div",{className:"add-modal-block"},r.a.createElement("label",{className:"add-modal-label"},"Price *"),r.a.createElement("input",{className:"add-modal-inpt",onChange:this.changeInput,name:"price",type:"number",value:n,required:!0})),r.a.createElement("div",{className:"add-modal-block"},r.a.createElement("img",{src:a,alt:"Load img"}),r.a.createElement("input",{className:"add-modal-inpt-img",onChange:this.changeInputImage,name:"img",type:"file",accept:"image/*"})),r.a.createElement("button",{className:"modal-btn",onClick:this.handleSave},"Save")),r.a.createElement(Z.a,{visible:c,animation:"rotate",onClose:this.closeModalMessage},r.a.createElement("div",{className:"modal-message"}," ",i," ")))}}]),t}(a.Component),ce=(n(150),n(151),ee.a.Option),ie=function(e){function t(e){var n;return Object(Y.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).handleOpenModal=function(){return n.setState({visible:!0})},n.handleChangeSortType=function(){var e=Object(X.a)(m.a.mark(function e(t){var a,r,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.fetchHotDogListRequest,c=a.changeSortType,n.setState({typeSort:t}),e.next=4,c(t);case 4:return e.next=6,r({typeSort:t});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.closeModal=function(){(0,n.props.fetchHotDogListRequest)({typeSort:n.state.typeSort}),n.setState({visible:!1})},n.state={visible:!1,typeSort:"expensive"},n}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state.visible,t=window.innerWidth/1.5,n=window.innerHeight/1.5;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("button",{className:"header-btn",onClick:this.handleOpenModal}," Add "),r.a.createElement("div",{className:"search-block"},r.a.createElement("input",{className:"header-inp",type:"text",placeholder:"name...",onChange:this.handleChangeInput}),r.a.createElement("button",{className:"header-btn"}," search ")),r.a.createElement("div",{className:"sort-block"},r.a.createElement("span",{className:"sort-block-text"}," Sort by "),r.a.createElement(ee.a,{optionFilterProp:"children",className:"sort-select-block",defaultValue:"Price (expensive first)",onChange:this.handleChangeSortType},r.a.createElement(ce,{key:"expensive",value:"expensive"}," Price (expensive first) "),r.a.createElement(ce,{key:"cheaper",value:"cheaper"}," Price (cheaper first) ")))),r.a.createElement(Z.a,{visible:e,onClose:this.closeModal,animation:"slideDown",duration:400,width:t,height:n},r.a.createElement(re,null)))}}]),t}(a.Component),oe=Object(o.b)(null,{fetchHotDogListRequest:j,changeSortType:S})(ie),se=(n(207),function(){return r.a.createElement("div",{className:"cssload-container"},r.a.createElement("div",{className:"cssload-circle"}),r.a.createElement("div",{className:"cssload-circle"}))}),ue=(n(208),function(e){function t(e){var n;return Object(Y.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).handleEdit=function(){var e=Object(X.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({visible:!0,item:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(X.a)(m.a.mark(function e(t){var a,r,c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=window.confirm("You really want delete this Hot Dog ?"),r=n.props,c=r.fetchHotDogListRequest,i=r.typeSort,!a){e.next=9;break}return e.next=5,O(t);case 5:if(!e.sent){e.next=9;break}return e.next=9,c({typeSort:i});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.closeModal=function(){var e=n.props;(0,e.fetchHotDogListRequest)({typeSort:e.typeSort}),n.setState({visible:!1})},n.state={visible:!1,item:{}},n}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.props.el,n=t.id,a=t.name,c=t.price,i=t.img,o=this.state,s=o.item,u=o.visible,l=window.innerWidth/1.5,m=window.innerHeight/1.5;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hot-dog-item"},r.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){e.handleEdit({id:n,name:a,price:c,img:i,willEdit:!0})}}),r.a.createElement("i",{className:"fas fa-times",onClick:function(){e.handleDelete(n)}}),r.a.createElement("p",{className:"hot-dog-name"}," ",a," "),r.a.createElement("img",{id:"img",className:"hot-dog-img",src:i,alt:a}),r.a.createElement("p",{id:"price",className:"hot-dog-price"}," ",c," $ ")),r.a.createElement(Z.a,{visible:u,onClose:this.closeModal,animation:"slideDown",duration:400,width:l,height:m},r.a.createElement(re,Object.assign({},s,{close:this.closeModal}))))}}]),t}(a.Component)),le=Object(o.b)(function(e){return{typeSort:G(e)}},{fetchHotDogListRequest:j})(ue),me=(n(209),function(e){function t(e){var n;return Object(Y.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).componentDidMount=Object(X.a)(m.a.mark(function e(){var t,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.fetchHotDogListRequest,r=t.typeSort,e.next=3,a({typeSort:r});case 3:case"end":return e.stop()}},e)})),n}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hotDogList;return e.isLoading?r.a.createElement("div",{className:"hot-dog-list"},r.a.createElement(se,null)):t.length?r.a.createElement("div",{className:"hot-dog-list"},t.map(function(e){return r.a.createElement(le,{key:e.id,el:e})})):r.a.createElement("div",{className:"hot-dog-list"},r.a.createElement("div",{className:"not-found"}," Not found :( "))}}]),t}(a.Component)),pe=Object(o.b)(function(e){return{hotDogList:q(e),isLoading:F(e),typeSort:G(e)}},{fetchHotDogListRequest:j})(me),de=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null),r.a.createElement(pe,null))},fe=(n(210),V());i.a.render(r.a.createElement(o.a,{store:fe},r.a.createElement(de,null)),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.6887f6f9.chunk.js.map